<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><title>Visualizing Reality through Synesthesia</title><style>body{margin:0;overflow:hidden;background:#000;color:#fff;display:flex;justify-content:center;align-items:center;height:100vh;font-family:Arial,sans-serif}#fullscreenButton{position:fixed;top:20px;right:20px;background:rgba(255,255,255,0.5);color:#000;border:none;padding:10px;cursor:pointer;z-index:2}#controls{position:fixed;bottom:20px;width:100%;display:flex;justify-content:center;z-index:2}#userMessage{width:50%;padding:10px;border:none;border-radius:5px;margin-right:10px}#sendMessage{padding:10px 20px;border:none;border-radius:5px;background:#fff;color:#000;cursor:pointer}</style></head><body><button id="fullscreenButton" onclick="toggleFullscreen()">Full Screen</button><div id="controls"><input id="userMessage" type="text" placeholder="Say something..."><button id="sendMessage" onclick="sendMessage()">Send</button></div><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.6/dat.gui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script><script>let scene,camera,renderer,particles,particleSystem,gui,clock,randomInterval,particleCount=10000,maxDistance=200,effectController={speed:1,scale:1,complexity:1,cameraRotationSpeed:0.005,hue:0.5,brightness:0.5};init();animate();function init(){scene=new THREE.Scene();clock=new THREE.Clock();camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1000);camera.position.z=400;renderer=new THREE.WebGLRenderer();renderer.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(renderer.domElement);let geometry=new THREE.BufferGeometry(),positions=new Float32Array(particleCount*3),colors=new Float32Array(particleCount*3),color=new THREE.Color();for(let i=0;i<particleCount;i++){positions[i*3]=(Math.random()*2-1)*maxDistance;positions[i*3+1]=(Math.random()*2-1)*maxDistance;positions[i*3+2]=(Math.random()*2-1)*maxDistance;color.setHSL(effectController.hue,1.0,effectController.brightness);colors[i*3]=color.r;colors[i*3+1]=color.g;colors[i*3+2]=color.b}geometry.setAttribute('position',new THREE.BufferAttribute(positions,3));geometry.setAttribute('color',new THREE.BufferAttribute(colors,3));let material=new THREE.PointsMaterial({size:2,vertexColors:true,blending:THREE.AdditiveBlending,transparent:true});particleSystem=new THREE.Points(geometry,material);scene.add(particleSystem);const light=new THREE.PointLight(0xffffff,1);light.position.set(0,0,400);scene.add(light);window.addEventListener('resize',onWindowResize,false);gui=new dat.GUI();gui.add(effectController,'speed',0.1,5).name('Speed');gui.add(effectController,'scale',0.1,5).name('Scale');gui.add(effectController,'complexity',0.1,5).name('Complexity');gui.add(effectController,'cameraRotationSpeed',0.001,0.01).name('Camera Rotation Speed');gui.add(effectController,'hue',0,1).name('Hue').onChange(updateColors);gui.add(effectController,'brightness',0,1).name('Brightness').onChange(updateColors);randomizeBehavior()}function randomizeBehavior(){randomInterval=setInterval(()=>{const randomBehavior=Math.floor(Math.random()*5);switch(randomBehavior){case 0:effectController.speed=Math.random()*5;showMessage("Wheeee! I'm going faster!");break;case 1:effectController.scale=Math.random()*5;showMessage("Look at me grow!");break;case 2:effectController.complexity=Math.random()*5;showMessage("I'm feeling complex!");break;case 3:effectController.hue=Math.random();updateColors();showMessage("Changing colors!");break;case 4:effectController.brightness=Math.random();updateColors();showMessage("Brighter now!");break}},Math.random()*5000+5000)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)}function animate(){requestAnimationFrame(animate);let time=clock.getElapsedTime()*effectController.speed,positions=particleSystem.geometry.attributes.position.array;for(let i=0;i<particleCount;i++){positions[i*3]+=Math.sin(time+i*effectController.complexity)*effectController.scale;positions[i*3+1]+=Math.cos(time+i*effectController.complexity)*effectController.scale;positions[i*3+2]+=Math.sin(time+i*effectController.complexity)*effectController.scale}particleSystem.geometry.attributes.position.needsUpdate=true;camera.position.x=400*Math.sin(clock.getElapsedTime()*effectController.cameraRotationSpeed);camera.position.z=400*Math.cos(clock.getElapsedTime()*effectController.cameraRotationSpeed);camera.lookAt(scene.position);renderer.render(scene,camera)}function updateColors(){let colors=particleSystem.geometry.attributes.color.array,color=new THREE.Color();for(let i=0;i<particleCount;i++){color.setHSL(effectController.hue,1.0,effectController.brightness);colors[i*3]=color.r;colors[i*3+1]=color.g;colors[i*3+2]=color.b}particleSystem.geometry.attributes.color.needsUpdate=true}function showMessage(message){const messageBox=document.createElement('div');messageBox.style.position='fixed';messageBox.style.bottom='10px';messageBox.style.left='50%';messageBox.style.transform='translateX(-50%)';messageBox.style.background='rgba(0,0,0,0.7)';messageBox.style.color='#fff';messageBox.style.padding='10px 20px';messageBox.style.borderRadius='5px';messageBox.style.zIndex='3';messageBox.textContent=message;document.body.appendChild(messageBox);setTimeout(()=>{messageBox.remove()},3000)}function sendMessage(){const userMessage=document.getElementById('userMessage').value;if(userMessage.trim()){showMessage(`You: ${userMessage}`);document.getElementById('userMessage').value='';handleUserMessage(userMessage.trim().toLowerCase())}}function handleUserMessage(message){if(message.includes("faster")){effectController.speed+=0.5;showMessage("You want more speed? Here we go!")}else if(message.includes("slower")){effectController.speed=Math.max(0.1,effectController.speed-0.5);showMessage("Slowing down as you wish!")}else if(message.includes("brighter")){effectController.brightness=Math.min(1,effectController.brightness+0.1);updateColors();showMessage("Brightening up for you!")}else if(message.includes("darker")){effectController.brightness=Math.max(0,effectController.brightness-0.1);updateColors();showMessage("Dimming the lights for you!")}else if(message.includes("complex")){effectController.complexity+=0.5;showMessage("Adding some complexity!")}}function toggleFullscreen(){const button=document.getElementById('fullscreenButton');if(!document.fullscreenElement){if(document.documentElement.requestFullscreen){document.documentElement.requestFullscreen()}else if(document.documentElement.mozRequestFullScreen){document.documentElement.mozRequestFullScreen()}else if(document.documentElement.webkitRequestFullscreen){document.documentElement.webkitRequestFullscreen()}else if(document.documentElement.msRequestFullscreen){document.documentElement.msRequestFullscreen()}}else{if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}}button.style.display='none'}</script></body></html>
