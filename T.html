<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Flummarche - Archetypal Revelation</title><style>*{margin:0;padding:0;box-sizing:border-box}body,html{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#1e1e1e;color:#f0f0f0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}#mandalaCanvas{border:2px solid #fff;width:80%;height:60%;margin-top:20px;border-radius:10px;background-color:#000;box-shadow:0 0 20px rgba(255,255,255,0.2)}#controls{display:flex;flex-direction:column;align-items:center;width:80%}#userInput,#nameInput,#birthDateInput{width:100%;padding:15px;margin-bottom:15px;border:none;border-radius:5px;font-size:18px;background-color:#333;color:#fff}#userInput::placeholder,#nameInput::placeholder,#birthDateInput::placeholder{color:#aaa}#archetypeButton,.save-load-button,#helpButton{padding:12px 25px;border:none;border-radius:5px;background-color:#555;color:#fff;font-size:18px;cursor:pointer;margin-bottom:25px;transition:background-color 0.3s}#archetypeButton:hover,.save-load-button:hover,#helpButton:hover{background-color:#666}#archetypeDisplay{font-size:20px;text-align:center;margin-bottom:25px;white-space:pre-line}#saveLoadButtons{display:flex;gap:15px}.tooltip{position:relative;display:inline-block;cursor:pointer}.tooltip .tooltiptext{visibility:hidden;width:220px;background-color:rgba(0,0,0,0.8);color:#fff;text-align:left;border-radius:6px;padding:10px;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-110px;opacity:0;transition:opacity 0.3s}.tooltip:hover .tooltiptext{visibility:visible;opacity:1}#feedbackModal,#helpModal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);justify-content:center;align-items:center;z-index:1000}#feedbackModal div,#helpModal div{background:#333;padding:20px;border-radius:10px;width:90%;max-width:600px;color:#fff;overflow-y:auto;max-height:80%}#feedbackModal textarea{width:100%;padding:10px;margin-top:10px;border:none;border-radius:5px;font-size:16px;resize:vertical;background-color:#444;color:#fff}#feedbackModal button,#helpModal button{padding:10px 20px;margin-top:15px;border:none;border-radius:5px;background-color:#555;color:#fff;cursor:pointer;transition:background-color 0.3s}#feedbackModal button:hover,#helpModal button:hover{background-color:#666}@media (max-width:600px){#mandalaCanvas{width:95%;height:50%}#userInput{font-size:16px}#archetypeButton,.save-load-button,#helpButton{font-size:16px;padding:10px 15px}#archetypeDisplay{font-size:18px}}</style></head><body><canvas id="mandalaCanvas"></canvas><div id="controls"><input type="text" id="userInput" placeholder="What is your question or focus?"><input type="text" id="nameInput" placeholder="Enter your full name for Expression Number"><input type="date" id="birthDateInput" placeholder="Enter your birth date for Life Path Number"><button id="archetypeButton">Reveal Archetypes</button><div id="archetypeDisplay"></div><div id="saveLoadButtons"><button class="save-load-button" id="saveStateButton">Save Journey</button><button class="save-load-button" id="loadStateButton">Load Journey</button><button class="save-load-button" id="clearStateButton">Clear Journey</button></div><button class="save-load-button" id="helpButton">Help</button><button class="save-load-button" id="feedbackButton">Provide Feedback</button></div><div id="feedbackModal"><div><h2>We Value Your Feedback</h2><textarea id="feedbackText" rows="5" placeholder="Enter your feedback here..."></textarea><button id="submitFeedback">Submit</button><button id="closeFeedback">Close</button></div></div><div id="helpModal"><div><h2>Flummarche Help Guide</h2><p><strong>Welcome to Flummarche!</strong><br><br><strong>How to Use:</strong><ol><li>Enter your question or focus in the input field.</li><li>Enter your full name and birth date for Numerology insights.</li><li>Click the "Reveal Archetypes" button to generate your Tarot card, I Ching hexagram, angel number, astrology sign, and numerology numbers.</li><li>Watch as the mandala evolves based on the drawn archetypes.</li><li>Use the "Save Journey" button to save your current state, and "Load Journey" to revisit it later.</li><li>Click on any archetype in the display to learn more about its meaning.</li></ol><strong>Understanding the Archetypes:</strong><ul><li><strong>Tarot Cards:</strong> Symbolize various aspects of your journey and personal growth.</li><li><strong>I Ching Hexagrams:</strong> Represent dynamic changes and challenges.</li><li><strong>Angel Numbers:</strong> Provide guidance and emphasize specific energies in your life.</li><li><strong>Astrology Signs:</strong> Reflect your inherent traits and cosmic influences.</li><li><strong>Numerology:</strong> Reveal deeper insights based on your name and birth date.</li></ul><strong>Interacting with the Mandala:</strong><ul><li>Each archetype influences the mandala's colors, shapes, and animations.</li><li>Observe how the mandala responds to the combination of different archetypes.</li><li>Use the mandala as a visual representation of your current energies and challenges.</li></ul><br><strong>Need More Help?</strong><p>Feel free to reach out through the feedback button to share your thoughts or ask questions!</p></p><button id="closeHelp">Close</button></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script><script>function initializeCanvas(){const canvas=document.getElementById('mandalaCanvas');function resizeCanvas(){canvas.width=window.innerWidth*0.8;canvas.height=window.innerHeight*0.6}let resizeTimeout;window.addEventListener('resize',()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(resizeCanvas,200)});resizeCanvas()}window.onload=function(){initializeCanvas()};function analyzeInput(input){const keywordMap={"new beginnings":{"tarot":["The Fool"],"iching":["Hexagram 1: The Creative"],"angel":["111"],"astrology":[]},"transformation":{"tarot":["Death"],"iching":["Hexagram 49: Revolution"],"angel":["555"],"astrology":[]},"balance":{"tarot":["Justice"],"iching":["Hexagram 8: Holding Together"],"angel":["222"],"astrology":[]},"protection":{"tarot":["The Tower"],"iching":["Hexagram 12: Standstill"],"angel":["444"],"astrology":[]}};const lowerInput=input.toLowerCase();let selectedArchetypes={tarot:[],iching:[],angel:[],astrology:[]};for(let keyword in keywordMap){if(lowerInput.includes(keyword)){selectedArchetypes.tarot=selectedArchetypes.tarot.concat(keywordMap[keyword].tarot);selectedArchetypes.iching=selectedArchetypes.iching.concat(keywordMap[keyword].iching);selectedArchetypes.angel=selectedArchetypes.angel.concat(keywordMap[keyword].angel);selectedArchetypes.astrology=selectedArchetypes.astrology.concat(keywordMap[keyword].astrology)}}return selectedArchetypes}function selectWeightedArchetype(deck,preferences){if(preferences.length>0){const preferred=preferences[Math.floor(Math.random()*preferences.length)];return preferred}return deck[Math.floor(Math.random()*deck.length)]}function attachTooltips(){const tarotInfo=document.getElementById('tarotInfo');const ichingInfo=document.getElementById('ichingInfo');const angelInfo=document.getElementById('angelInfo');const astrologyInfo=document.getElementById('astrologyInfo');const lifePathInfo=document.getElementById('lifePathInfo');const expressionInfo=document.getElementById('expressionInfo');if(tarotInfo){tarotInfo.classList.add('tooltip');const tarotDescriptions={"The Fool":"Represents new beginnings, spontaneity, and a free spirit.","The Magician":"Symbolizes manifestation, resourcefulness, and power.","The High Priestess":"Embodies intuition, mystery, and the subconscious mind.","The Empress":"Signifies fertility, abundance, and nurturing.","The Emperor":"Represents authority, structure, and control.","Death":"Indicates transformation, endings, and new beginnings.","Justice":"Symbolizes fairness, truth, and law."};tarotInfo.innerHTML+=`<span class="tooltiptext">${tarotDescriptions[tarotInfo.innerText]||'No description available.'}</span>`}if(ichingInfo){ichingInfo.classList.add('tooltip');const ichingDescriptions={"Hexagram 1: The Creative":"Indicates strong creative energy and dynamic action.","Hexagram 2: The Receptive":"Represents openness and willingness to receive.","Hexagram 3: Difficulty at the Beginning":"Signifies initial challenges and the need for perseverance.","Hexagram 4: Youthful Folly":"Represents inexperience and the need for guidance.","Hexagram 5: Waiting":"Symbolizes patience and preparedness.","Hexagram 6: Conflict":"Indicates disagreements and the need for resolution.","Hexagram 7: The Army":"Represents organized effort and teamwork.","Hexagram 8: Holding Together":"Emphasizes unity and collective strength.","Hexagram 9: The Taming Power of the Small":"Signifies control through gentle means.","Hexagram 10: Treading":"Represents cautious progress.","Hexagram 11: Peace":"Symbolizes harmony and prosperity.","Hexagram 12: Standstill":"Represents stagnation and the need for patience.","Hexagram 49: Revolution":"Symbolizes radical change and transformation."};ichingInfo.innerHTML+=`<span class="tooltiptext">${ichingDescriptions[ichingInfo.innerText]||'No description available.'}</span>`}if(angelInfo){angelInfo.classList.add('tooltip');const angelDescriptions={"111":"Alignment and manifestation of your desires.","222":"Balance and harmony in your life.","333":"Encouragement and support from the universe.","444":"Protection and stability are around you.","555":"Change and transformation are on the way."};angelInfo.innerHTML+=`<span class="tooltiptext">${angelDescriptions[angelInfo.innerText]||'No description available.'}</span>`}if(astrologyInfo){astrologyInfo.classList.add('tooltip');const astrologyDescriptions={"Aries":"Represents leadership, courage, and initiative.","Taurus":"Symbolizes stability, patience, and reliability.","Gemini":"Embodies communication, adaptability, and curiosity.","Cancer":"Signifies nurturing, emotional depth, and intuition.","Leo":"Represents creativity, confidence, and charisma.","Virgo":"Symbolizes precision, organization, and analytical thinking.","Libra":"Embodies balance, harmony, and partnership.","Scorpio":"Signifies intensity, transformation, and passion.","Sagittarius":"Represents adventure, optimism, and exploration.","Capricorn":"Symbolizes ambition, discipline, and responsibility.","Aquarius":"Embodies innovation, independence, and humanitarianism.","Pisces":"Signifies empathy, spirituality, and creativity."};astrologyInfo.innerHTML+=`<span class="tooltiptext">${astrologyDescriptions[astrologyInfo.innerText]||'No description available.'}</span>`}if(lifePathInfo){lifePathInfo.classList.add('tooltip');const lifePathDescriptions={"1":"Leadership, independence, and ambition.","2":"Diplomacy, cooperation, and sensitivity.","3":"Creativity, communication, and expression.","4":"Stability, practicality, and organization.","5":"Adventure, freedom, and change.","6":"Responsibility, nurturing, and harmony.","7":"Introspection, spirituality, and analysis.","8":"Power, material success, and authority.","9":"Compassion, humanitarianism, and idealism."};lifePathInfo.innerHTML+=`<span class="tooltiptext">${lifePathDescriptions[lifePathInfo.innerText]||'No description available.'}</span>`}if(expressionInfo){expressionInfo.classList.add('tooltip');const expressionDescriptions={"1":"Leadership and initiative.","2":"Diplomacy and cooperation.","3":"Creativity and communication.","4":"Practicality and organization.","5":"Adventure and freedom.","6":"Responsibility and nurturing.","7":"Spirituality and analysis.","8":"Authority and success.","9":"Compassion and idealism."};expressionInfo.innerHTML+=`<span class="tooltiptext">${expressionDescriptions[expressionInfo.innerText]||'No description available.'}</span>`}}document.getElementById('archetypeButton').addEventListener('click',function(){const userInput=document.getElementById('userInput').value;const nameInput=document.getElementById('nameInput').value;const birthDateInput=document.getElementById('birthDateInput').value;const archetypePreferences=analyzeInput(userInput);const tarotDeck=["The Fool","The Magician","The High Priestess","The Empress","The Emperor","The Hierophant","The Lovers","The Chariot","Strength","The Hermit","Wheel of Fortune","Justice","The Hanged Man","Death","Temperance","The Devil","The Tower","The Star","The Moon","The Sun","Judgement","The World"];const ichingHexagrams=["Hexagram 1: The Creative","Hexagram 2: The Receptive","Hexagram 3: Difficulty at the Beginning","Hexagram 4: Youthful Folly","Hexagram 5: Waiting","Hexagram 6: Conflict","Hexagram 7: The Army","Hexagram 8: Holding Together","Hexagram 9: The Taming Power of the Small","Hexagram 10: Treading","Hexagram 11: Peace","Hexagram 12: Standstill","Hexagram 49: Revolution"];const angelNumbers=["111","222","333","444","555","666","777","888","999"];const astrologySigns=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];const numerologyNumbers=calculateNumerology(nameInput,birthDateInput);const tarotCard=selectWeightedArchetype(tarotDeck,archetypePreferences.tarot);const iching=selectWeightedArchetype(ichingHexagrams,archetypePreferences.iching);const angelNumber=selectWeightedArchetype(angelNumbers,archetypePreferences.angel);const astrologySign=astrologySigns[Math.floor(Math.random()*astrologySigns.length)];const numerologyLifePath=numerologyNumbers.lifePath;const numerologyExpression=numerologyNumbers.expression;document.getElementById('archetypeDisplay').innerHTML=`Tarot: <span id="tarotInfo">${tarotCard}</span><br>I Ching: <span id="ichingInfo">${iching}</span><br>Angel Number: <span id="angelInfo">${angelNumber}</span><br>Astrology: <span id="astrologyInfo">${astrologySign}</span><br>Numerology - Life Path: <span id="lifePathInfo">${numerologyLifePath}</span><br>Numerology - Expression: <span id="expressionInfo">${numerologyExpression}</span>`;enhancedMandalaAnimation(tarotCard,iching,angelNumber,astrologySign,numerologyLifePath,numerologyExpression);attachTooltips()});function calculateNumerology(name,birthDate){const nameValue=name.toUpperCase().replace(/[^A-Z]/g,'');let expressionSum=0;for(let char of nameValue){expressionSum+=char.charCodeAt(0)-64}expressionSum=reduceToSingleDigit(expressionSum);let lifePathSum=0;if(birthDate){const digits=birthDate.replace(/[^0-9]/g,'');for(let digit of digits){lifePathSum+=parseInt(digit)}lifePathSum=reduceToSingleDigit(lifePathSum)}return{lifePath:lifePathSum,expression:expressionSum}}function reduceToSingleDigit(num){while(num>9&&num!==11&&num!==22&&num!==33){num=(num+'').split('').reduce((a,b)=>a+parseInt(b),0)}return num}function enhancedMandalaAnimation(tarotCard,iching,angelNumber,astrologySign,lifePath,expression){const canvas=document.getElementById('mandalaCanvas');const ctx=canvas.getContext('2d');const centerX=canvas.width/2;const centerY=canvas.height/2;let rotation=0;let baseColor="#FFD700";let shape="circle";let rotationSpeed=0.5;if(tarotCard==="The High Priestess"){baseColor="#ADD8E6";shape="circle";rotationSpeed=0.5}else if(tarotCard==="The Tower"){baseColor="#FF4500";shape="triangle";rotationSpeed=2}else if(tarotCard==="The Magician"){baseColor="#8A2BE2";shape="square";rotationSpeed=1.5}gsap.to({},{duration:rotationSpeed,repeat:-1,onRepeat:()=>{rotation+=1;draw()}});function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);ctx.fillStyle=baseColor;ctx.strokeStyle="#FFFFFF";ctx.lineWidth=2;ctx.save();ctx.translate(centerX,centerY);ctx.rotate(rotation*Math.PI/180);if(shape==="circle"){ctx.beginPath();ctx.arc(0,0,50,0,Math.PI*2);ctx.fill()}else if(shape==="triangle"){ctx.beginPath();ctx.moveTo(0,-50);ctx.lineTo(43,25);ctx.lineTo(-43,25);ctx.closePath();ctx.fill()}else if(shape==="square"){ctx.beginPath();ctx.rect(-50,-50,100,100);ctx.fill()}ctx.restore();if(iching.includes("Splitting Apart")){ctx.strokeStyle="#8B0000";ctx.lineWidth=3;ctx.beginPath();ctx.moveTo(0,centerY);ctx.lineTo(canvas.width,centerY);ctx.stroke()}else if(iching.includes("The Creative")){ctx.strokeStyle="#00FF00";ctx.lineWidth=2;for(let i=0;i<360;i+=45){const rad=i*Math.PI/180;const x=centerX+Math.cos(rad)*60;const y=centerY+Math.sin(rad)*60;ctx.beginPath();ctx.moveTo(centerX,centerY);ctx.lineTo(x,y);ctx.stroke()}}if(angelNumber==="111"){ctx.strokeStyle="#FFD700";ctx.lineWidth=2;for(let i=0;i<3;i++){ctx.beginPath();ctx.arc(centerX,centerY,30+i*20,0,Math.PI*2);ctx.stroke()}}else if(angelNumber==="222"){ctx.strokeStyle="#ADD8E6";ctx.lineWidth=2;ctx.beginPath();ctx.arc(centerX-40,centerY,20,0,Math.PI*2);ctx.arc(centerX+40,centerY,20,0,Math.PI*2);ctx.stroke()}else if(angelNumber==="333"){ctx.strokeStyle="#8A2BE2";ctx.lineWidth=2;for(let i=0;i<3;i++){ctx.save();ctx.translate(centerX,centerY);ctx.rotate((i*120)*Math.PI/180);ctx.beginPath();ctx.moveTo(0,-30);ctx.lineTo(25,15);ctx.lineTo(-25,15);ctx.closePath();ctx.stroke();ctx.restore()}}else if(angelNumber==="444"){ctx.strokeStyle="#FF4500";ctx.lineWidth=3;for(let i=0;i<4;i++){ctx.beginPath();ctx.rect(centerX-60+i*30,centerY-60+i*30,30,30);ctx.stroke()}}if(astrologySign){integrateAstrology(astrologySign,ctx,centerX,centerY)}if(lifePath){ctx.strokeStyle="#00FFFF";ctx.lineWidth=2;ctx.beginPath();ctx.arc(centerX,centerY,20,0,Math.PI*2);ctx.stroke()}if(expression){ctx.strokeStyle="#FF00FF";ctx.lineWidth=2;ctx.beginPath();ctx.moveTo(centerX-30,centerY);ctx.lineTo(centerX+30,centerY);ctx.stroke()}}}function integrateAstrology(sign,ctx,centerX,centerY){const astrologyColors={"Aries":"#FF5733","Taurus":"#33FF57","Gemini":"#3357FF","Cancer":"#FF33A8","Leo":"#FFBD33","Virgo":"#33FFF2","Libra":"#FF33F6","Scorpio":"#8B0000","Sagittarius":"#FF8C00","Capricorn":"#2F4F4F","Aquarius":"#00FFFF","Pisces":"#800080"};const astrologyDescriptions={"Aries":"Represents leadership, courage, and initiative.","Taurus":"Symbolizes stability, patience, and reliability.","Gemini":"Embodies communication, adaptability, and curiosity.","Cancer":"Signifies nurturing, emotional depth, and intuition.","Leo":"Represents creativity, confidence, and charisma.","Virgo":"Symbolizes precision, organization, and analytical thinking.","Libra":"Embodies balance, harmony, and partnership.","Scorpio":"Signifies intensity, transformation, and passion.","Sagittarius":"Represents adventure, optimism, and exploration.","Capricorn":"Symbolizes ambition, discipline, and responsibility.","Aquarius":"Embodies innovation, independence, and humanitarianism.","Pisces":"Signifies empathy, spirituality, and creativity."};ctx.strokeStyle=astrologyColors[sign]||"#FFFFFF";ctx.lineWidth=2;switch(sign){case"Aries":ctx.beginPath();ctx.moveTo(centerX,centerY-30);ctx.lineTo(centerX-20,centerY-70);ctx.moveTo(centerX,centerY-30);ctx.lineTo(centerX+20,centerY-70);ctx.stroke();break;case"Taurus":ctx.beginPath();ctx.arc(centerX,centerY,30,0,Math.PI*2);ctx.moveTo(centerX-20,centerY-30);ctx.lineTo(centerX-40,centerY-50);ctx.moveTo(centerX+20,centerY-30);ctx.lineTo(centerX+40,centerY-50);ctx.stroke();break;case"Gemini":ctx.beginPath();ctx.moveTo(centerX-20,centerY-40);ctx.lineTo(centerX-20,centerY+40);ctx.moveTo(centerX+20,centerY-40);ctx.lineTo(centerX+20,centerY+40);ctx.stroke();break;case"Cancer":ctx.beginPath();ctx.arc(centerX-20,centerY,20,Math.PI/2,-Math.PI/2,true);ctx.arc(centerX+20,centerY,20,Math.PI/2,-Math.PI/2,true);ctx.stroke();break;case"Leo":for(let i=0;i<360;i+=30){const rad=i*Math.PI/180;const x=centerX+Math.cos(rad)*40;const y=centerY+Math.sin(rad)*40;ctx.beginPath();ctx.moveTo(centerX,centerY);ctx.lineTo(x,y);ctx.stroke()}break;case"Virgo":ctx.beginPath();ctx.arc(centerX,centerY,20,0,Math.PI*2);ctx.moveTo(centerX-10,centerY-20);ctx.lineTo(centerX-10,centerY+20);ctx.moveTo(centerX+10,centerY-20);ctx.lineTo(centerX+10,centerY+20);ctx.stroke();break;case"Libra":ctx.beginPath();ctx.moveTo(centerX-30,centerY);ctx.lineTo(centerX+30,centerY);ctx.moveTo(centerX,centerY);ctx.arc(centerX-15,centerY,15,0,Math.PI,false);ctx.moveTo(centerX,centerY);ctx.arc(centerX+15,centerY,15,0,Math.PI,false);ctx.stroke();break;case"Scorpio":ctx.beginPath();ctx.moveTo(centerX,centerY+30);ctx.lineTo(centerX,centerY+60);ctx.lineTo(centerX-10,centerY+70);ctx.moveTo(centerX,centerY+60);ctx.lineTo(centerX+10,centerY+70);ctx.stroke();break;case"Sagittarius":ctx.beginPath();ctx.arc(centerX-20,centerY,20,0,Math.PI,false);ctx.moveTo(centerX-20,centerY);ctx.lineTo(centerX+20,centerY);ctx.lineTo(centerX+15,centerY-5);ctx.moveTo(centerX+20,centerY);ctx.lineTo(centerX+15,centerY+5);ctx.stroke();break;case"Capricorn":ctx.beginPath();ctx.moveTo(centerX,centerY-30);ctx.lineTo(centerX-20,centerY-60);ctx.moveTo(centerX,centerY-30);ctx.lineTo(centerX+20,centerY-60);ctx.stroke();break;case"Aquarius":ctx.beginPath();ctx.moveTo(centerX-40,centerY);ctx.quadraticCurveTo(centerX-20,centerY+20,centerX,centerY);ctx.quadraticCurveTo(centerX+20,centerY-20,centerX+40,centerY);ctx.stroke();break;case"Pisces":ctx.beginPath();ctx.arc(centerX-20,centerY,15,0.5*Math.PI,1.5*Math.PI,false);ctx.arc(centerX+20,centerY,15,1.5*Math.PI,0.5*Math.PI,false);ctx.stroke();break;default:ctx.beginPath();ctx.arc(centerX,centerY,40,0,Math.PI*2);ctx.stroke();break}}function playSoundEffect(action){const soundEffect=document.getElementById('soundEffect');if(action==="shapeChange"){soundEffect.src="path/to/shape-change-sound.mp3"}else if(action==="111"){soundEffect.src="path/to/circle-sound.mp3"}soundEffect.play()}function integrateAngelNumbers(angelNumber){const canvas=document.getElementById('mandalaCanvas');const ctx=canvas.getContext('2d');const centerX=canvas.width/2;const centerY=canvas.height/2;if(angelNumber==="111"){ctx.strokeStyle="#FFD700";ctx.lineWidth=2;for(let i=0;i<3;i++){ctx.beginPath();ctx.arc(centerX,centerY,30+i*20,0,Math.PI*2);ctx.stroke()}}else if(angelNumber==="222"){ctx.strokeStyle="#ADD8E6";ctx.lineWidth=2;ctx.beginPath();ctx.arc(centerX-40,centerY,20,0,Math.PI*2);ctx.arc(centerX+40,centerY,20,0,Math.PI*2);ctx.stroke()}else if(angelNumber==="333"){ctx.strokeStyle="#8A2BE2";ctx.lineWidth=2;for(let i=0;i<3;i++){ctx.save();ctx.translate(centerX,centerY);ctx.rotate((i*120)*Math.PI/180);ctx.beginPath();ctx.moveTo(0,-30);ctx.lineTo(25,15);ctx.lineTo(-25,15);ctx.closePath();ctx.stroke();ctx.restore()}}else if(angelNumber==="444"){ctx.strokeStyle="#FF4500";ctx.lineWidth=3;for(let i=0;i<4;i++){ctx.beginPath();ctx.rect(centerX-60+i*30,centerY-60+i*30,30,30);ctx.stroke()}}}function saveUserState(tarotCard,iching,angelNumber,astrologySign,lifePath,expression){const user=null;if(user){/* Firebase save logic if using */}else{const userState={tarotCard:tarotCard,iching:iching,angelNumber:angelNumber,astrologySign:astrologySign,lifePath:lifePath,expression:expression};localStorage.setItem('flummarcheState',JSON.stringify(userState));alert('Your journey has been saved locally.')}}function loadUserState(){const savedState=localStorage.getItem('flummarcheState');if(savedState){const state=JSON.parse(savedState);document.getElementById('archetypeDisplay').innerHTML=`Tarot: <span id="tarotInfo">${state.tarotCard}</span><br>I Ching: <span id="ichingInfo">${state.iching}</span><br>Angel Number: <span id="angelInfo">${state.angelNumber}</span><br>Astrology: <span id="astrologyInfo">${state.astrologySign}</span><br>Numerology - Life Path: <span id="lifePathInfo">${state.lifePath}</span><br>Numerology - Expression: <span id="expressionInfo">${state.expression}</span>`;enhancedMandalaAnimation(state.tarotCard,state.iching,state.angelNumber,state.astrologySign,state.lifePath,state.expression);attachTooltips();alert('Your journey has been loaded.')}else{alert('No saved journey found.')}}function clearUserState(){localStorage.removeItem('flummarcheState');document.getElementById('archetypeDisplay').innerHTML='';const canvas=document.getElementById('mandalaCanvas');const ctx=canvas.getContext('2d');ctx.clearRect(0,0,canvas.width,canvas.height);alert('Your journey has been cleared.')}document.getElementById('saveStateButton').addEventListener('click',function(){const displayText=document.getElementById('archetypeDisplay').innerText;if(displayText){const [tarotLine,ichingLine,angelLine,astrologyLine,lifePathLine,expressionLine]=displayText.split('\n');const tarotCard=tarotLine.replace('Tarot: ','');const iching=ichingLine.replace('I Ching: ','');const angelNumber=angelLine.replace('Angel Number: ','');const astrologySign=astrologyLine.replace('Astrology: ','');const lifePath=lifePathLine.replace('Numerology - Life Path: ','');const expression=expressionLine.replace('Numerology - Expression: ','');saveUserState(tarotCard,iching,angelNumber,astrologySign,lifePath,expression)}else{alert('No journey to save.')}});document.getElementById('loadStateButton').addEventListener('click',function(){loadUserState()});document.getElementById('clearStateButton').addEventListener('click',function(){clearUserState()});document.getElementById('helpButton').addEventListener('click',function(){document.getElementById('helpModal').style.display='flex'});document.getElementById('closeHelp').addEventListener('click',function(){document.getElementById('helpModal').style.display='none'});document.getElementById('feedbackButton').addEventListener('click',function(){document.getElementById('feedbackModal').style.display='flex'});document.getElementById('closeFeedback').addEventListener('click',function(){document.getElementById('feedbackModal').style.display='none'});document.getElementById('submitFeedback').addEventListener('click',function(){const feedback=document.getElementById('feedbackText').value;if(feedback.trim()!==""){/* Firebase feedback save logic if using */alert('Thank you for your feedback!');document.getElementById('feedbackModal').style.display='none';document.getElementById('feedbackText').value=''}else{alert('Please enter your feedback before submitting.')}});</script></body></html>
