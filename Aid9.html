<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><title>Visualizing Reality through Synesthesia</title><style>body{margin:0;overflow:hidden;background:#000;color:#fff;display:flex;justify-content:center;align-items:center;height:100vh;font-family:Arial,sans-serif}#fullscreenButton{position:fixed;top:20px;right:20px;background:rgba(255,255,255,0.5);color:#000;border:none;padding:10px;cursor:pointer;z-index:2}</style></head><body><button id="fullscreenButton" onclick="toggleFullscreen()">Full Screen</button><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script><script>let scene,camera,renderer,particleSystem1,particleSystem2,clock,context,oscillator1,oscillator2,particleCount=3000,maxDistance=200,maxParticles=6000,effectController1={speed:1,scale:1,complexity:1,cameraRotationSpeed:0.005,hue:0.5,brightness:0.5},effectController2={speed:1,scale:1,complexity:1,hue:0.3,brightness:0.7};init();animate();function init(){scene=new THREE.Scene();clock=new THREE.Clock();camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1000);camera.position.z=400;renderer=new THREE.WebGLRenderer();renderer.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(renderer.domElement);let geometry1=new THREE.BufferGeometry(),positions1=new Float32Array(particleCount*3),colors1=new Float32Array(particleCount*3),geometry2=new THREE.BufferGeometry(),positions2=new Float32Array(particleCount*3),colors2=new Float32Array(particleCount*3),color=new THREE.Color();for(let i=0;i<particleCount;i++){positions1[i*3]=(Math.random()*2-1)*maxDistance;positions1[i*3+1]=(Math.random()*2-1)*maxDistance;positions1[i*3+2]=(Math.random()*2-1)*maxDistance;color.setHSL(effectController1.hue,1.0,effectController1.brightness);colors1[i*3]=color.r;colors1[i*3+1]=color.g;colors1[i*3+2]=color.b;positions2[i*3]=(Math.random()*2-1)*maxDistance;positions2[i*3+1]=(Math.random()*2-1)*maxDistance;positions2[i*3+2]=(Math.random()*2-1)*maxDistance;color.setHSL(effectController2.hue,1.0,effectController2.brightness);colors2[i*3]=color.r;colors2[i*3+1]=color.g;colors2[i*3+2]=color.b}geometry1.setAttribute('position',new THREE.BufferAttribute(positions1,3));geometry1.setAttribute('color',new THREE.BufferAttribute(colors1,3));geometry2.setAttribute('position',new THREE.BufferAttribute(positions2,3));geometry2.setAttribute('color',new THREE.BufferAttribute(colors2,3));let material1=new THREE.PointsMaterial({size:2,vertexColors:true,blending:THREE.AdditiveBlending,transparent:true}),material2=new THREE.PointsMaterial({size:2,vertexColors:true,blending:THREE.AdditiveBlending,transparent:true});particleSystem1=new THREE.Points(geometry1,material1);particleSystem2=new THREE.Points(geometry2,material2);scene.add(particleSystem1);scene.add(particleSystem2);const light=new THREE.PointLight(0xffffff,1);light.position.set(0,0,400);scene.add(light);context=new(window.AudioContext||window.webkitAudioContext)();oscillator1=context.createOscillator();oscillator1.type='sine';oscillator1.frequency.setValueAtTime(440,context.currentTime);oscillator1.connect(context.destination);oscillator1.start();oscillator2=context.createOscillator();oscillator2.type='square';oscillator2.frequency.setValueAtTime(220,context.currentTime);oscillator2.connect(context.destination);oscillator2.start();window.addEventListener('resize',onWindowResize,false);randomizeBehavior(effectController1,oscillator1);randomizeBehavior(effectController2,oscillator2)}function randomizeBehavior(effectController,oscillator){setInterval(()=>{const randomBehavior=Math.floor(Math.random()*5);switch(randomBehavior){case 0:effectController.speed=Math.random()*5;updateSound(oscillator,effectController);break;case 1:effectController.scale=Math.random()*5;updateSound(oscillator,effectController);break;case 2:effectController.complexity=Math.random()*5;updateSound(oscillator,effectController);break;case 3:effectController.hue=Math.random();updateColors(effectController);break;case 4:effectController.brightness=Math.random();updateColors(effectController);break}},Math.random()*5000+5000)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)}function animate(){requestAnimationFrame(animate);let time=clock.getElapsedTime();updateParticles(particleSystem1,effectController1,time);updateParticles(particleSystem2,effectController2,time);interactParticles();camera.position.x=400*Math.sin(clock.getElapsedTime()*effectController1.cameraRotationSpeed);camera.position.z=400*Math.cos(clock.getElapsedTime()*effectController1.cameraRotationSpeed);camera.lookAt(scene.position);renderer.render(scene,camera);evolveBehavior(effectController1,oscillator1);evolveBehavior(effectController2,oscillator2);cullAndCreateParticles();updateFractals()}function updateParticles(particleSystem,effectController,time){let positions=particleSystem.geometry.attributes.position.array;for(let i=0;i<particleCount;i++){positions[i*3]+=Math.sin(time+i*effectController.complexity)*effectController.scale;positions[i*3+1]+=Math.cos(time+i*effectController.complexity)*effectController.scale;positions[i*3+2]+=Math.sin(time+i*effectController.complexity)*effectController.scale}particleSystem.geometry.attributes.position.needsUpdate=true}function interactParticles(){let positions1=particleSystem1.geometry.attributes.position.array,positions2=particleSystem2.geometry.attributes.position.array;for(let i=0;i<particleCount;i++){for(let j=0;j<particleCount;j++){let dx=positions1[i*3]-positions2[j*3],dy=positions1[i*3+1]-positions2[j*3+1],dz=positions1[i*3+2]-positions2[j*3+2],distance=Math.sqrt(dx*dx+dy*dy+dz*dz);if(distance<20){positions1[i*3]+=dx*0.05;positions1[i*3+1]+=dy*0.05;positions1[i*3+2]+=dz*0.05;positions2[j*3]-=dx*0.05;positions2[j*3+1]-=dy*0.05;positions2[j*3+2]-=dz*0.05}}}particleSystem1.geometry.attributes.position.needsUpdate=true;particleSystem2.geometry.attributes.position.needsUpdate=true}function evolveBehavior(effectController,oscillator){if(Math.random()<0.01){effectController.complexity+=0.1}if(Math.random()<0.01){effectController.scale+=0.1}if(Math.random()<0.01){oscillator.frequency.value+=10;oscillator.detune.value+=5;oscillator.type=['sine','square','triangle','sawtooth'][Math.floor(Math.random()*4)]}}function updateColors(effectController){let colors=(effectController===effectController1?particleSystem1:particleSystem2).geometry.attributes.color.array,color=new THREE.Color();for(let i=0;i<particleCount;i++){color.setHSL(effectController.hue,1.0,effectController.brightness);colors[i*3]=color.r;colors[i*3+1]=color.g;colors[i*3+2]=color.b}(effectController===effectController1?particleSystem1:particleSystem2).geometry.attributes.color.needsUpdate=true}function updateSound(oscillator,effectController){oscillator.frequency.setValueAtTime(200+effectController.speed*100,context.currentTime);oscillator.detune.setValueAtTime(effectController.complexity*100,context.currentTime);oscillator.type=['sine','square','triangle','sawtooth'][Math.floor(Math.random()*4)]}function cullAndCreateParticles(){if(particleCount<maxParticles&&Math.random()<0.05){particleCount+=100;let positions1=particleSystem1.geometry.attributes.position.array,positions2=particleSystem2.geometry.attributes.position.array;for(let i=particleCount-100;i<particleCount;i++){positions1[i*3]=(Math.random()*2-1)*maxDistance;positions1[i*3+2]=(Math.random()*2-1)*maxDistance;color.setHSL(effectController1.hue,1.0,effectController1.brightness);colors1[i*3]=color.r;colors1[i*3+1]=color.g;colors1[i*3+2]=color.b;positions2[i*3]=(Math.random()*2-1)*maxDistance;positions2[i*3+1]=(Math.random()*2-1)*maxDistance;positions2[i*3+2]=(Math.random()*2-1)*maxDistance;color.setHSL(effectController2.hue,1.0,effectController2.brightness);colors2[i*3]=color.r;colors2[i*3+1]=color.g;colors2[i*3+2]=color.b}particleSystem1.geometry.attributes.position.needsUpdate=true;particleSystem1.geometry.attributes.color.needsUpdate=true;particleSystem2.geometry.attributes.position.needsUpdate=true;particleSystem2.geometry.attributes.color.needsUpdate=true}else if(particleCount>3000&&Math.random()<0.05){particleCount-=100}}function toggleFullscreen(){const button=document.getElementById('fullscreenButton');if(!document.fullscreenElement){if(document.documentElement.requestFullscreen){document.documentElement.requestFullscreen()}else if(document.documentElement.mozRequestFullScreen){document.documentElement.mozRequestFullScreen()}else if(document.documentElement.webkitRequestFullscreen){document.documentElement.webkitRequestFullscreen()}else if(document.documentElement.msRequestFullscreen){document.documentElement.msRequestFullscreen()}}else{if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}}button.style.display='none'}function updateFractals(){const fractalCount=10;for(let i=0;i<fractalCount;i++){let x=Math.random()*2-1,y=Math.random()*2-1,z=Math.random()*2-1,scale=Math.random()*0.5+0.5;color.setHSL(Math.random(),1.0,0.5);let geometry=new THREE.SphereGeometry(scale,32,32);let material=new THREE.MeshBasicMaterial({color:color.getHex()});let fractal=new THREE.Mesh(geometry,material);fractal.position.set(x*maxDistance,y*maxDistance,z*maxDistance);scene.add(fractal)}}init();</script></body></html>
