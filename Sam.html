<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Habitat Tank</title><style>@import url('https://fonts.googleapis.com/css2?family=Pirata+One&display=swap');body,html{margin:0;padding:0;overflow:hidden;background:#000;display:flex;flex-direction:column;align-items:center;height:100vh;}canvas{border:2px solid #ff69b4;border-radius:10px;box-shadow:0 0 20px rgba(255,105,180,0.8);}#controls{position:absolute;top:20px;display:flex;gap:10px;}button,input{padding:10px;background:#ff69b4;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background 0.3s;}button:hover,input:hover{background:#ff3399;}input{width:80px;text-align:center;}#toggle-controls{display:none;position:absolute;top:20px;right:20px;background:#ff69b4;color:#fff;border:none;border-radius:5px;cursor:pointer;padding:10px;}#toggle-controls:hover{background:#ff3399;}</style></head><body><h1>Habitat Tank</h1><button id="toggle-controls" onclick="toggleControls()">Controls</button><div id="controls"><button onclick="addPerson()">Add Person</button><button onclick="addElement('Water')">Add Water</button><button onclick="addElement('Fire')">Add Fire</button><button onclick="addElement('Earth')">Add Earth</button><button onclick="addElement('Air')">Add Air</button><label for="speed">Speed:</label><input type="number" id="speed" value="1" min="1" max="10"></div><canvas id="canvas" width="800" height="600"></canvas><script>const canvas=document.getElementById('canvas');const ctx=canvas.getContext('2d');const width=canvas.width;const height=canvas.height;const entities=[];let time=0;let evolveInterval=1000;class Element{constructor(type,x,y){this.type=type;this.x=x;this.y=y;this.resources=100;}draw(){ctx.fillStyle=this.getColor();ctx.beginPath();ctx.arc(this.x,this.y,10,0,Math.PI*2);ctx.fill();}consume(amount){this.resources-=amount;if(this.resources<=0){const index=entities.indexOf(this);if(index>-1)entities.splice(index,1);}}getColor(){switch(this.type){case 'Water':return '#00f';case 'Fire':return '#f00';case 'Earth':return '#964B00';case 'Air':return '#fff';default:return '#000';}}}class Person{constructor(x,y){this.x=x;this.y=y;this.speed=1;this.energy=100;this.resources={Water:0,Fire:0,Earth:0,Air:0};this.target=null;}draw(){ctx.fillStyle='#FFD700';ctx.beginPath();ctx.arc(this.x,this.y,10,0,Math.PI*2);ctx.fill();ctx.fillStyle='#000';ctx.fillRect(this.x-5,this.y+10,10,30);}move(){if(this.target){const dx=this.target.x-this.x;const dy=this.target.y-this.y;const dist=Math.sqrt(dx*dx+dy*dy);if(dist>1){this.x+=dx/dist*this.speed;this.y+=dy/dist*this.speed;}else{this.target=null;}}else{const speed=parseFloat(document.getElementById('speed').value);this.x+=(Math.random()-0.5)*speed*this.speed;this.y+=(Math.random()-0.5)*speed*this.speed;if(this.x<0)this.x=0;if(this.x>width)this.x=width;if(this.y<0)this.y=0;if(this.y>height)this.y=height;}this.energy-=0.1;if(this.energy<=0)this.die();}die(){const index=entities.indexOf(this);if(index>-1)entities.splice(index,1);}interact(){for(const entity of entities){if(entity instanceof Element){const dx=this.x-entity.x;const dy=this.y-entity.y;if(Math.sqrt(dx*dx+dy*dy)<50){this.resources[entity.type]+=50;entity.consume(50);break;}}}}build(){if(this.resources.Earth>=100&&this.resources.Water>=100){this.resources.Earth-=100;this.resources.Water-=100;this.energy+=100;}else if(this.resources.Fire>=50&&this.resources.Air>=50){this.resources.Fire-=50;this.resources.Air-=50;this.speed+=1;}}}function addPerson(){const x=Math.random()*width;const y=Math.random()*(height-100);entities.push(new Person(x,y));}function addElement(type){const x=Math.random()*width;const y=Math.random()*(height-100);entities.push(new Element(type,x,y));}function draw(){ctx.clearRect(0,0,width,height);ctx.fillStyle='rgba(0,0,0,0.1)';ctx.fillRect(0,0,width,height);for(const entity of entities){entity.draw();if(entity instanceof Person){entity.move();entity.interact();entity.build();}}time+=1;requestAnimationFrame(draw);}function evolve(){for(const entity of entities){if(entity instanceof Person){entity.speed+=Math.random()*0.1-0.05;if(entity.speed<0.1)entity.speed=0.1;if(entity.speed>5)entity.speed=5;}}}function toggleControls(){const controls=document.getElementById('controls');const toggleButton=document.getElementById('toggle-controls');if(controls.style.display==='none'){controls.style.display='flex';toggleButton.style.display='none';}else{controls.style.display='none';toggleButton.style.display='block';}}canvas.addEventListener('click',()=>{const toggleButton=document.getElementById('toggle-controls');toggleButton.style.display=toggleButton.style.display==='none'?'block':'none';});let evolveIntervalId=setInterval(evolve,evolveInterval);draw();</script></body></html>
